# C++ 포인터 정리 및 체득 포인트

## 1. 포인터 기본
- 선언: `자료형* 변수명;`
  ```cpp
  int* pInt;
  char* pChar;
  ```
- 포인터는 변수의 **주소**를 저장
- 포인터 크기는 자료형과 상관없이 시스템 환경(x86:4byte, x64:8byte) 따라 결정
- 주소 연산: `p += 1` → 자료형 크기 단위로 주소 증가
  - 예: `int* pInt`에서 `pInt += 1` → 4바이트 증가

## 2. 배열과 포인터
- 배열 이름 자체가 시작 주소
- 배열 요소 접근: 두 가지 방법
  ```cpp
  int arr[5] = {1,2,3,4,5};
  int* p = arr;

  *(p + i)      // i번째 요소 접근
  arr[i]        // 동일 기능
  ```
- `*p + i` vs `*(p + i)`
  - `(*p + i)` : p가 가리키는 첫 번째 값에 i를 더함
  - `*(p + i)` : p를 기준으로 i번째 요소의 값에 접근

## 3. 포인터와 값 변경
- 배열에 대한 포인터 전달 시 함수 내에서 값 변경 가능
  ```cpp
  void doubleValues(int* a, int len){
      for(int i=0;i<len;++i) {
          *(a + i) *= 2;
      }
  }
  ```
- 단일 변수 포인터: p += 1은 다음 int 위치를 가리킴, 실제 값 a에는 영향 없음

## 4. 구조체와 반환
- 다중 값을 반환하려면 구조체 활용
  ```cpp
  struct Result { int sum; int avg; };
  Result computeSumAndAverage(int* a, int len){
      Result r;
      r.sum = 0;
      for(int i=0;i<len;++i){
          r.sum += *(a+i);
      }
      r.avg = r.sum / len;
      return r;
  }
  ```
- 초기화 필요성
  - 누적 합계: 반드시 0으로 초기화 (`r.sum = 0;`)
  - 단순 대입 연산: 선택적 (`r.avg = sum/len;` 등)

## 5. main과 함수 호출
- 함수에서 구조체를 반환 → main에서 받아 사용
  ```cpp
  Result r = computeSumAndAverage(arr, 5);
  std::cout << r.sum << " " << r.avg;
  ```
- void 함수는 값 반환 X, 직접 배열 요소 변경 가능

## 6. 포인터 체득 포인트
1. `*p`는 포인터가 가리키는 **값**, `p`는 **주소**
2. `*(p + i)`는 배열 순회용으로 가장 많이 사용
3. `(*p + i)`는 첫 요소 값에 i만 더함, 배열 순회 X
4. 포인터 증감(`p += n`)은 주소 이동, 값 변경 아님
5. 함수에서 배열 포인터 전달 → 원본 배열 값 변경 가능
6. 단일 변수 포인터 → 값 직접 변경은 `*p = ...` 형태로
7. 구조체를 활용하면 여러 값 반환 가능, void 함수는 직접 배열 값 변경

## 7. 실수 포인트
- `(*p + i)`와 `*(p + i)` 혼동
- 포인터 증감 후 원래 위치로 돌아갈 때 `p -= n` 정확히 계산 필요
- void 함수에서 return 시 main으로 값 반환 불가
- 누적 연산 변수 초기화 필수
- 함수 매개변수를 int가 아닌 int*로 받을지 여부 판단 중요

